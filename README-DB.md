# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å–µ–≥–æ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ë–î, –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
npm run quickstart
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL –≤ Docker
2. –ü–æ–¥–æ–∂–¥–µ—Ç 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
3. –ó–∞–ø–æ–ª–Ω–∏—Ç –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫

#### 1. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –≤ Docker
npm run db:start

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å pgAdmin (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î)
npm run pgadmin
```

#### 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```bash
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î seed –¥–∞–Ω–Ω—ã–º–∏
npm run db:seed
```

#### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

#### 4. –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å
npm run db:reset
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run quickstart` | **üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: –ë–î + –¥–∞–Ω–Ω—ã–µ + —Å–µ—Ä–≤–µ—Ä |
| `npm run dev` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| `npm run start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ |
| `npm run build` | –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å TypeScript |
| `npm run db:start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –≤ Docker |
| `npm run db:stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `npm run db:restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL |
| `npm run db:seed` | –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| `npm run db:reset` | –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –ë–î —Å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ–º |
| `npm run db:logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ PostgreSQL |
| `npm run pgadmin` | –ó–∞–ø—É—Å—Ç–∏—Ç—å pgAdmin (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) |

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- **–•–æ—Å—Ç**: localhost
- **–ü–æ—Ä—Ç**: 5432
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: testpr_db
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: postgres
- **–ü–∞—Ä–æ–ª—å**: password

### pgAdmin (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):
- **URL**: http://localhost:8080
- **Email**: admin@example.com
- **–ü–∞—Ä–æ–ª—å**: admin

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeORM
‚îú‚îÄ‚îÄ seed/
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts             # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î
‚îú‚îÄ‚îÄ entities/               # –°—É—â–Ω–æ—Å—Ç–∏ TypeORM (—Å–æ–∑–¥–∞–π—Ç–µ –∑–¥–µ—Å—å —Å–≤–æ–∏)
‚îî‚îÄ‚îÄ migrations/             # –ú–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `src/entities/`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã TypeORM –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. –î–æ–±–∞–≤—å—Ç–µ —Å—É—â–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `src/config/database.ts`

–ü—Ä–∏–º–µ—Ä:
```typescript
// src/entities/MyEntity.ts
import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';

@Entity('my_table')
export class MyEntity {
    @PrimaryGeneratedColumn()
    id: number;

    @Column()
    name: string;
}
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã:

```bash
cp env.example .env
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ—Ä—Ç–æ–º 5432
–ï—Å–ª–∏ –ø–æ—Ä—Ç 5432 –∑–∞–Ω—è—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`:
```yaml
ports:
  - "5433:5432"  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
```

–ò –æ–±–Ω–æ–≤–∏—Ç–µ `.env`:
```
DB_PORT=5433
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ Docker
docker-compose down -v
docker system prune -a

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm run db:start
npm run db:seed
```
